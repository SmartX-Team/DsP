# WARNING: Do not edit /etc/maas/dhcpd.conf yourself.  MAAS will overwrite any
# changes made there.
#
# Instead, edit /etc/maas/templates/dhcp/dhcpd.conf.template and your changes
# will be present whenever MAAS rewrites the DHCP configuration.  Update and save
# the cluster's configuration in MAAS to trigger an update to this file.

option arch code 93 = unsigned integer 16; # RFC4578
option path-prefix code 210 = text; #RFC5071
subnet 172.30.0.0 netmask 255.255.0.0 {
       if option arch = 00:0E {
          filename "pxelinux.0";
          option path-prefix "ppc64el/";
       } elsif option arch = 00:07 {
          filename "bootx64.efi";
       } elsif option arch = 00:0C {
          filename "bootppc64.bin";
       } else {
          filename "pxelinux.0";
       }
       interface "eth2";
       ignore-client-uids true;
       option subnet-mask 255.255.0.0;
       option broadcast-address 172.30.255.255;
       option domain-name-servers 210.114.90.8;
       option domain-name "maas";
       option routers 172.30.90.8;
       option ntp-servers ntp.ubuntu.com;
       range dynamic-bootp 172.30.90.161 172.30.90.190;
       class "PXE" {
          match if substring (option vendor-class-identifier, 0, 3) = "PXE";
          default-lease-time 30;
          max-lease-time 30;
       }
}

omapi-port 7911;
key omapi_key {
    algorithm HMAC-MD5;
    secret "fA6oCue10NugGWCDlERFEfILi+YgoN5c3GjqPsNoIxJVJ10fcukzC84WilTsEjSFHhOAFbyL+KhwxlfMCxc9hQ==";
};
omapi-key omapi_key;

group {
        host gj-c1 {
                hardware ethernet 90:e2:ba:54:ec:04;
                fixed-address 172.30.90.3;
                option host-name "GJ-C1";
                option subnet-mask 255.255.0.0;
                if option arch = 00:07 {
          filename "bootx64.efi";
       } elsif option arch = 00:0C {
          filename "bootppc64.bin";
       } else {
          filename "pxelinux.0";
       }
                next-server 172.30.90.8;
        }

        host jj-c1 {
                hardware ethernet 90:e2:ba:54:ec:41;
                fixed-address 172.30.90.35;
                option host-name "JJ-C1";
                option subnet-mask 255.255.0.0;
                if option arch = 00:07 {
          filename "bootx64.efi";
       } elsif option arch = 00:0C {
          filename "bootppc64.bin";
       } else {
          filename "pxelinux.0";
       }
                next-server 172.30.90.8;
        }

        host po-c1 {
                hardware ethernet 90:e2:ba:54:ef:94;
                fixed-address 172.30.90.67;
                option host-name "PO-C1";
                option subnet-mask 255.255.0.0;
                if option arch = 00:07 {
          filename "bootx64.efi";
       } elsif option arch = 00:0C {
          filename "bootppc64.bin";
       } else {
          filename "pxelinux.0";
       }
                next-server 172.30.90.8;
        }

        host ku-c1 {
                hardware ethernet 90:e2:ba:54:f4:89;
                fixed-address 172.30.90.99;
                option host-name "KU-C1";
                option subnet-mask 255.255.0.0;
                if option arch = 00:07 {
          filename "bootx64.efi";
       } elsif option arch = 00:0C {
          filename "bootppc64.bin";
       } else {
          filename "pxelinux.0";
       }
                next-server 172.30.90.8;
        }

        host kn-c1 {
                hardware ethernet 90:e2:ba:54:ec:11;
                fixed-address 172.30.90.131;
                option host-name "KN-C1";
                option subnet-mask 255.255.0.0;
                if option arch = 00:07 {
          filename "bootx64.efi";
       } elsif option arch = 00:0C {
          filename "bootppc64.bin";
       } else {
          filename "pxelinux.0";
       }
                next-server 172.30.90.8;
        }
}

